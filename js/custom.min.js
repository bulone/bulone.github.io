(()=>{AOS.init({duration:600,easing:"ease-in-cublic",once:!0});msemoji.parse(document.body,{base:"https://gcore.jsdelivr.net/gh/DellZHackintosh/msemoji@1.1.2/src/",ext:".svg",folder:"Color",high_contrast:!1});document.body.addEventListener("click",function(s){let e=s.target.closest(".wl-cards a");if(!e)return;let t=e.getAttribute("href");if(!t||t.startsWith("#")||t.startsWith("javascript:")||t.startsWith("mailto:")||t.startsWith("tel:")||t.startsWith("/")||!t.includes("://"))return;let a=new URL(e.href,window.location.href),i=window.location.hostname,n=["bulone.github.io","blog.toastbubble.top","localhost"].some(c=>a.hostname===c||a.hostname.endsWith(`.${c}`)),d=a.hostname===i||a.hostname.endsWith(`.${i}`);if(!n){if(d)return;{s.preventDefault();let c=btoa(e.href);window.open(`/redirect?url=${c}`,"_blank")}}});var l=class{constructor(){this.init()}init(){this.processExistingImages(),this.setupMutationObserver()}processExistingImages(){document.querySelectorAll('img[loading="lazy"]').forEach(t=>{if(t.complete){this.markAsLoaded(t);return}t.addEventListener("load",()=>this.markAsLoaded(t),{once:!0}),t.addEventListener("error",()=>this.markAsLoaded(t),{once:!0})})}setupMutationObserver(){new MutationObserver(t=>{for(let r of t)for(let a of r.addedNodes)a.nodeType===1&&(a.tagName==="IMG"&&a.getAttribute("loading")==="lazy"&&this.handleNewImage(a),a.querySelector&&a.querySelectorAll('img[loading="lazy"]').forEach(o=>this.handleNewImage(o)))}).observe(document.body,{childList:!0,subtree:!0})}handleNewImage(e){if(e.complete){this.markAsLoaded(e);return}e.addEventListener("load",()=>this.markAsLoaded(e),{once:!0}),e.addEventListener("error",()=>this.markAsLoaded(e),{once:!0})}markAsLoaded(e){e.removeAttribute("loading"),e.classList.add("lazy-loaded"),e.classList.remove("lazy-loading")}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>new l,100)}):setTimeout(()=>new l,100);var m=document.getElementById("header-desktop");window.addEventListener("scroll",()=>{m.classList.toggle("scroll-header",window.scrollY>1)});function u(s){let e=document.querySelector(".loader"),t=document.getElementById("progress-text");if(e){let r=s/100*360;e.style.background=`conic-gradient(
            #ef442a 0deg,
            #ef442a ${r}deg,
            rgba(255, 255, 255, 0.3) ${r}deg,
            rgba(255, 255, 255, 0.3) 360deg
        )`}t&&(t.textContent=Math.round(s)+"%")}function h(){let s=0,e=2e3,t=50,a=100/(e/t),i=setInterval(()=>{s+=a,s>=100&&(s=100,clearInterval(i),setTimeout(()=>{let o=document.getElementById("loading-box"),n=document.querySelector(".loading-text");o&&n&&(n.classList.add("loaded-text"),setTimeout(()=>{o.classList.add("loaded")},800))},300)),u(s)},t)}document.addEventListener("DOMContentLoaded",function(){setTimeout(h,100)});setTimeout(()=>{let s=document.getElementById("loading-box");if(s&&!s.classList.contains("loaded")){u(100);let e=document.querySelector(".loading-text");e&&e.classList.add("loaded-text"),setTimeout(()=>{s.classList.add("loaded")},800)}},5e3);document.addEventListener("DOMContentLoaded",function(){let s=document.querySelectorAll(".theme-btn"),e=document.documentElement;function t(){let o=localStorage.getItem("theme");return o||"auto"}function r(o){if(o==="auto"){let n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.setAttribute("data-theme",n)}else e.setAttribute("data-theme",o)}function a(){let o=t();r(o),s.forEach(n=>{n.getAttribute("data-theme")===o?n.classList.add("active"):n.classList.remove("active")})}function i(o,n){o==="auto"?localStorage.removeItem("theme"):localStorage.setItem("theme",o),r(o),s.forEach(d=>{d.classList.remove("active")}),n.classList.add("active")}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(o){if(!localStorage.getItem("theme")){let n=o.matches?"dark":"light";e.setAttribute("data-theme",n)}}),s.forEach(o=>{o.addEventListener("click",function(){let n=this.getAttribute("data-theme");i(n,this)})}),a()});})();
