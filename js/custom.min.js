(()=>{AOS.init({duration:600,easing:"ease-in-cublic",once:!0});msemoji.parse(document.body,{base:"https://gcore.jsdelivr.net/gh/DellZHackintosh/msemoji@1.1.2/src/",ext:".svg",folder:"Color",high_contrast:!1});document.body.addEventListener("click",function(s){let e=s.target.closest(".wl-cards a");if(!e)return;let t=e.getAttribute("href");if(!t||t.startsWith("#")||t.startsWith("javascript:")||t.startsWith("mailto:")||t.startsWith("tel:")||t.startsWith("/")||!t.includes("://"))return;let o=new URL(e.href,window.location.href),a=window.location.hostname,l=["bulone.github.io","blog.toastbubble.top","localhost"].some(n=>o.hostname===n||o.hostname.endsWith(`.${n}`)),h=o.hostname===a||o.hostname.endsWith(`.${a}`);if(!l){if(h)return;{s.preventDefault();let n=btoa(e.href);window.open(`/redirect?url=${n}`,"_blank")}}});var r=class{constructor(){this.init()}init(){this.processExistingImages(),this.setupMutationObserver()}processExistingImages(){document.querySelectorAll('img[loading="lazy"]').forEach(t=>{if(t.complete){this.markAsLoaded(t);return}t.addEventListener("load",()=>this.markAsLoaded(t),{once:!0}),t.addEventListener("error",()=>this.markAsLoaded(t),{once:!0})})}setupMutationObserver(){new MutationObserver(t=>{for(let i of t)for(let o of i.addedNodes)o.nodeType===1&&(o.tagName==="IMG"&&o.getAttribute("loading")==="lazy"&&this.handleNewImage(o),o.querySelector&&o.querySelectorAll('img[loading="lazy"]').forEach(d=>this.handleNewImage(d)))}).observe(document.body,{childList:!0,subtree:!0})}handleNewImage(e){if(e.complete){this.markAsLoaded(e);return}e.addEventListener("load",()=>this.markAsLoaded(e),{once:!0}),e.addEventListener("error",()=>this.markAsLoaded(e),{once:!0})}markAsLoaded(e){e.removeAttribute("loading"),e.classList.add("lazy-loaded"),e.classList.remove("lazy-loading")}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>new r,100)}):setTimeout(()=>new r,100);function c(){let s=document.documentElement;window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(s.setAttribute("data-theme","dark"),console.log("\u{1F319}\u5DF2\u5207\u6362\u6DF1\u8272\u6A21\u5F0F")):(s.removeAttribute("data-theme"),console.log("\u2600\u5DF2\u5207\u6362\u6D45\u8272\u6A21\u5F0F"))}c();window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",c);})();
